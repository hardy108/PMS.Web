@using PMS.Web.UI.Code
@{
    ViewData["Title"] = "Kendaraan";
    Layout = null;

    string mode = ViewBag.Mode;
    bool isReadonly = (!mode.Equals("New") && !mode.Equals("Edit"));
    bool isReadonlyWhenNotInsert = !mode.Equals("New");

    DateTime now = DateTime.Now;
    string strNow = now.ToString("yyyy-MM-dd HH:mm:ss");
    string strToday = now.ToString("yyyy-MM-dd");
}

<x-form id="@ViewBag.MainFormID">

    <x-form-row>
        <x-field-text id="ID" binding-field="ID" caption="Id" read-only="true" place-holder="Auto Number" xs-size="12" md-size="4">
        </x-field-text>

        <x-field-data-list-unit-by-user-name id="UNITID" caption="Estate" xs-size="12" md-size="4" read-only="@ViewBag.ReadOnlyWhenNotInsert" binding-field="UNITID" min-length-search="2">
        </x-field-data-list-unit-by-user-name>

        <x-field-data-list-vehicle-type id="TYPEID" caption="Tipe Kendaraan" xs-size="12" md-size="4" read-only="@ViewBag.ReadOnlyWhenNotInsert" binding-field="TYPEID" min-length-search="2">
        </x-field-data-list-vehicle-type>
    </x-form-row>

    <x-form-row>
        <x-field-text id="CODE" binding-field="CODE" caption="Kode SAP" read-only="@ViewBag.ReadOnly" place-holder="Kode SAP" xs-size="12" md-size="4">
        </x-field-text>

        <x-field-text id="NO" binding-field="NO" caption="No. Polisi" read-only="@ViewBag.ReadOnly" place-holder="No. Polisi" xs-size="12" md-size="4">
        </x-field-text>

        <x-field-text id="NAME" binding-field="NAME" caption="Nama" read-only="@ViewBag.ReadOnly" place-holder="Nama" xs-size="12" md-size="4">
        </x-field-text>
    </x-form-row>

    <x-form-row>
        <x-field-text id="DRIVER" binding-field="DRIVER" caption="Pengemudi" read-only="@ViewBag.ReadOnly" place-holder="Pengemudi" xs-size="12" md-size="4" value="">
        </x-field-text>

        <x-field-text id="SIM" binding-field="SIM" caption="SIM" read-only="@ViewBag.ReadOnly" place-holder="SIM" xs-size="12" md-size="4">
        </x-field-text>

        <x-field-select id="ACTIVE" binding-field="ACTIVE" caption="Aktif" xs-size="12" md-size="4" read-only="@ViewBag.ReadOnly" select-type="Boolean">
        </x-field-select>
    </x-form-row>

</x-form>

<script>
    var checkMode = function () {
        return true;
    };

    var beforeDisplay = function () {
        return true;
    };

    var customDisplay = function () {
        if (mode == "New") {
            $("#ACTIVE").val("true").trigger("change");
        }

        return true;
    }

    var beforeSaveRecord = function () {
        }
        return true;
    }

    var beforeSendAction = function (action, savedRecord) {
        return savedRecord;
    }
</script>